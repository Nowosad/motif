<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to the motif package â€¢ motif</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the motif package">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">motif</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/v1_intro.html">Introduction to the motif package</a>
    </li>
    <li>
      <a href="../articles/v2_signatures.html">Types of spatial patterns' signatures</a>
    </li>
    <li>
      <a href="../articles/v3_search.html">Spatial patterns' search</a>
    </li>
    <li>
      <a href="../articles/v4_compare.html">Spatial patterns' comparision</a>
    </li>
    <li>
      <a href="../articles/v5_cluster.html">Spatial patterns' clustering</a>
    </li>
    <li>
      <a href="../articles/v6_composition.html">Extracting the proportion of different classes in many regular local landscapes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Nowosad/motif/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to the motif package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Nowosad/motif/blob/main/vignettes/v1_intro.Rmd" class="external-link"><code>vignettes/v1_intro.Rmd</code></a></small>
      <div class="hidden name"><code>v1_intro.Rmd</code></div>

    </div>

    
    
<p>The <strong>motif</strong> package implements ideas of the
pattern-based spatial analysis in R. Its role is to describe spatial
patterns of categorical raster data for any defined regular and
irregular areas. Patterns are represented quantitatively using built-in
signatures based on co-occurrence matrices but also allows for any
user-defined functions. It also enables spatial analysis such as search,
change detection, and clustering to be performed on spatial
patterns.</p>
<p>The <strong>motif</strong> package works on raster data represented
by <code>stars</code> objects. It has several example datasets,
including <code>"raster/landcover2015.tif"</code>. This file contains a
land cover data for New Guinea, with seven possible categories: (1)
agriculture, (2) forest, (3) grassland, (5) settlement, (6) shrubland,
(7) sparse vegetation, and (9) water.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jakubnowosad.com/motif/" class="external-link">motif</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/stars/" class="external-link">stars</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: abind</span></span>
<span><span class="co">#&gt; Loading required package: sf</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.13.0, GDAL 3.8.5, PROJ 9.5.1; sf_use_s2() is TRUE</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="va">landcover</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/stars/reference/read_stars.html" class="external-link">read_stars</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"raster/landcover2015.tif"</span>, package <span class="op">=</span> <span class="st">"motif"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; downsample set to 12</span></span></code></pre>
<p><img src="v1_intro_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
<div class="section level2">
<h2 id="signatures">Signatures<a class="anchor" aria-label="anchor" href="#signatures"></a>
</h2>
<div class="section level3">
<h3 id="whole-area">Whole area<a class="anchor" aria-label="anchor" href="#whole-area"></a>
</h3>
<p>We can see that most of the island is covered by forest, with some
agriculture and smaller areas of the other classes. It is also
reasonably easy to describe these proportions (so-called composition)
numerically - we just need to count cells of each category for the whole
data.</p>
<p>We can use the <code><a href="../reference/lsp_signature.html">lsp_signature()</a></code> function for this. It
requires a <code>stars</code> object as the first input and the type of
a signature to calculate - <code>"composition"</code> in this case.
There are also several additional arguments, including
<code>threshold</code> - a share (between 0 and 1) of NA cells to allow
signature calculation and <code>normalization</code> - decision if the
output vector should be normalized.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">landcover_comp</span> <span class="op">=</span> <span class="fu"><a href="../reference/lsp_signature.html">lsp_signature</a></span><span class="op">(</span><span class="va">landcover</span>, </span>
<span>                                type <span class="op">=</span> <span class="st">"composition"</span>,</span>
<span>                                threshold <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                                normalization <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="va">landcover_comp</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 Ã— 3</span></span></span>
<span><span class="co">#&gt;      id na_prop signature    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1   0.666 <span style="color: #949494;">&lt;int [1 Ã— 7]&gt;</span></span></span></code></pre></div>
<p>The output of <code><a href="../reference/lsp_signature.html">lsp_signature()</a></code>,
<code>landcover_comp</code>, has a new class <code>lsp</code>. It is a
tibble with three columns:</p>
<ul>
<li>
<code>id</code> - an id of each window (area)</li>
<li>
<code>na_prop</code> - share (0-1) of <code>NA</code> cells for each
window</li>
<li>
<code>signature</code> - a list-column containing with calculated
signatures</li>
</ul>
<p>We can take a look at the last column:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">landcover_comp</span><span class="op">$</span><span class="va">signature</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;           1       2     3    4    5     6      7</span></span>
<span><span class="co">#&gt; [1,] 862001 8122776 84482 4311 2677 78555 203444</span></span></code></pre></div>
<p>It is a list of signatures. In this case, we have just one signature
describing the whole area in the form of a numeric vector. It contains
how many cells belong to each land cover category. For example, there
are 8122776 cells of forest, but only 2677 cells of shrubland.</p>
<!-- However, it is not that easy to describe landscape patterns numericaly.  -->
<!-- We can try to... -->
<!-- ... -->
<!-- ... -->
</div>
<div class="section level3">
<h3 id="regular-local-landscapes">Regular local landscapes<a class="anchor" aria-label="anchor" href="#regular-local-landscapes"></a>
</h3>
<p>Another approach would be to divide this large area into many regular
rectangles (we refer to them as local landscapes) and to calculate a
signature in each of them. The previously used signature,
<code>"composition"</code> has one important flaw though. It only
describes how many cells of each category we have. However, it does not
distinguish an area with the left half of forest and right half of
agriculture from an area with forest mixed with agriculture (think of a
green-yellow checkerboard). Gladly, several more types of signatures do
exist. It includes a co-occurrence matrix (<code>type = "coma"</code>).
<code>"coma"</code> goes to each cell, looks at its value, looks at the
values of its neighbors and counts how many neighbors of each class our
central cell has.</p>
<pre><code><span><span class="co">#&gt; downsample set to 12</span></span></code></pre>
<p><img src="v1_intro_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<p>This time, we set the <code>window</code> argument to
<code>200</code>, which means that each local landscape will consist of
200 by 200 cells. In this example, each cell has a resolution of 300 by
300 meters, therefore a local landscape will be 60000 by 60000 meters
(60 by 60 kilometers).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">landcover_coma</span> <span class="op">=</span> <span class="fu"><a href="../reference/lsp_signature.html">lsp_signature</a></span><span class="op">(</span><span class="va">landcover</span>, type <span class="op">=</span> <span class="st">"coma"</span>, window <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span><span class="va">landcover_coma</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 298 Ã— 3</span></span></span>
<span><span class="co">#&gt;       id na_prop signature    </span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     2  0.644  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     3  0.099<span style="text-decoration: underline;">2</span> <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     4  0.145  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     5  0.602  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     6  0.775  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     9  0.796  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>    38  0.255  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>    39  0      <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>    40  0      <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    41  0      <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># â„¹ 288 more rows</span></span></span></code></pre></div>
<p>Now, we have one row per local landscape, where each local landscape
is described by an id (<code>id</code>), the proportion of cells with
<code>NA</code>s (<code>na_prop</code>), and a signature
(<code>signature</code>). For example, the first signature looks like
this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">landcover_coma</span><span class="op">$</span><span class="va">signature</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;    1     2 3 4 5 6    7</span></span>
<span><span class="co">#&gt; 1 16    24 0 0 0 0   12</span></span>
<span><span class="co">#&gt; 2 24 53928 0 0 0 0  255</span></span>
<span><span class="co">#&gt; 3  0     0 0 0 0 0    0</span></span>
<span><span class="co">#&gt; 4  0     0 0 0 0 0    0</span></span>
<span><span class="co">#&gt; 5  0     0 0 0 0 0    0</span></span>
<span><span class="co">#&gt; 6  0     0 0 0 0 0    0</span></span>
<span><span class="co">#&gt; 7 12   255 0 0 0 0 1644</span></span></code></pre></div>
<p>It is a matrix where each row and column represent subsequent land
cover classes. For example, 141250 times forest cell is next to anther
forest cell, and 226 times water cell is next to forest cell. You can
learn more about this signature at <a href="https://jakubnowosad.com/comat/articles/coma.html" class="external-link uri">https://jakubnowosad.com/comat/articles/coma.html</a>.
Additional signatures are described in the <a href="https://jakubnowosad.com/motif/articles/v2_signatures.html" class="external-link">Spatial
patternsâ€™ signatures</a> vignette.</p>
</div>
<div class="section level3">
<h3 id="irregular-local-landscapes">Irregular local landscapes<a class="anchor" aria-label="anchor" href="#irregular-local-landscapes"></a>
</h3>
<p>The <strong>motif</strong> package also allows using irregular
regions based on the user-provided polygons. It has an example spatial
vector dataset, <code>ecoregions.gpkg</code>, which contains terrestrial
ecoregions for New Guinea from <a href="https://ecoregions2017.appspot.com/" class="external-link uri">https://ecoregions2017.appspot.com/</a>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ecoregions</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"vector/ecoregions.gpkg"</span>, package <span class="op">=</span> <span class="st">"motif"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This dataset has 22 rows, where each row relates to one ecoregion.
Each ecoregion is also related to a unique value in the <code>id</code>
column.</p>
<p><img src="v1_intro_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<p>Now, we need to provide this dataset and its identity column to the
<code>window</code> argument of <code><a href="../reference/lsp_signature.html">lsp_signature()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">landcover_coma_e</span> <span class="op">=</span> <span class="fu"><a href="../reference/lsp_signature.html">lsp_signature</a></span><span class="op">(</span><span class="va">landcover</span>, type <span class="op">=</span> <span class="st">"coma"</span>, window <span class="op">=</span> <span class="va">ecoregions</span><span class="op">[</span><span class="st">"id"</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">landcover_coma_e</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 22 Ã— 3</span></span></span>
<span><span class="co">#&gt;       id na_prop signature    </span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 0.114   <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 0.085<span style="text-decoration: underline;">1</span>  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3 0.037<span style="text-decoration: underline;">7</span>  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4 0.091<span style="text-decoration: underline;">4</span>  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5 0       <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6 0       <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7 0.002<span style="text-decoration: underline;">85</span> <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8 0.072<span style="text-decoration: underline;">0</span>  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9 0.050<span style="text-decoration: underline;">8</span>  <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10 0       <span style="color: #949494;">&lt;int [7 Ã— 7]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># â„¹ 12 more rows</span></span></span></code></pre></div>
<p>The output, <code>landcover_coma_e</code>, is also of the
<code>lsp</code> class and contains three columns. The first column,
<code>id</code>, has the same values as provided in the
<code>window</code> argument above. The third column,
<code>signature</code>, has a spatial signature for each polygon in the
<code>ecoregions</code> dataset.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">landcover_coma_e</span><span class="op">$</span><span class="va">signature</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;     1     2 3  4 5 6    7</span></span>
<span><span class="co">#&gt; 1 662   752 0  1 0 0   13</span></span>
<span><span class="co">#&gt; 2 752 70974 0  6 0 0  427</span></span>
<span><span class="co">#&gt; 3   0     0 0  0 0 0    0</span></span>
<span><span class="co">#&gt; 4   1     6 0 12 0 0    4</span></span>
<span><span class="co">#&gt; 5   0     0 0  0 0 0    0</span></span>
<span><span class="co">#&gt; 6   0     0 0  0 0 0    0</span></span>
<span><span class="co">#&gt; 7  13   427 0  4 0 0 1560</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="large-data-support">Large data support<a class="anchor" aria-label="anchor" href="#large-data-support"></a>
</h2>
<p>The <strong>motif</strong> package also supports large raster
datasets, including rasters that do not fit into the RAM. It just
requres reading the input data as a <code>stars.proxy</code> by adding
<code>proxy = TRUE</code> to the <code><a href="https://r-spatial.github.io/stars/reference/read_stars.html" class="external-link">read_stars()</a></code> function:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">landcover_proxy</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/stars/reference/read_stars.html" class="external-link">read_stars</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"raster/landcover2015.tif"</span>, package <span class="op">=</span> <span class="st">"motif"</span><span class="op">)</span>,</span>
<span>                             proxy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>The rest of the calculations are the same as above.</p>
</div>
<div class="section level2">
<h2 id="applications">Applications<a class="anchor" aria-label="anchor" href="#applications"></a>
</h2>
<p>Importantly, spatial patternsâ€™ signatures can be used not only to
describe landscapes, but also to search for other similar landscapes,
compare landscapes, and cluster them.</p>
<!-- create a summary image -->
<p>You can find examples of each of the above applications in the
vignettes:</p>
<ol style="list-style-type: decimal">
<li><a href="https://jakubnowosad.com/motif/articles/v3_search.html" class="external-link">Spatial
patternsâ€™ search</a></li>
<li><a href="https://jakubnowosad.com/motif/articles/v4_compare.html" class="external-link">Spatial
patternsâ€™ comparision</a></li>
<li><a href="https://jakubnowosad.com/motif/articles/v5_cluster.html" class="external-link">Spatial
patternsâ€™ clustering</a></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jakub Nowosad.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
